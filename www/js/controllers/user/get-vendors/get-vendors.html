<ion-view view-title="Book Tickets">
  <ion-header-bar class="bar-subheader item-input-inset">
    <label class="item-input-wrapper">
      <i class="icon ion-ios-search placeholder-icon"></i>
      <input type="search" placeholder="Search" ng-model="vendorNamePattern">
    </label>
    <button class="button button-clear">
      Cancel
    </button>
  </ion-header-bar>
  <ion-content>
    <div class="list">
      <div ng-repeat="vendor in vendors | filter: { companyName: vendorNamePattern}"
           class="item item-thumbnail-left item-icon-right">
        <img ng-src="http://localhost:3000/static/images/{{vendor.image}}">
        <h2>{{vendor.companyName}}</h2>
        <p>{{vendor.type}} | Distance: {{ _.round(_.getDistance(vendor.location, myLoc), 2)}} Miles</p>

        <a class="button button-small button-clear button-calm"
           href="https://www.google.com/maps?saddr=My+Location&daddr={{vendor.location.lat}},{{vendor.location.lng}}"
           target="_blank">
          Get Directions
        </a>

        <a href="#/user/bookTicket/{{movieId}}/{{vendor._id}}">
          <i class="icon ion-chevron-right icon-accessory"></i>
        </a>
      </div>
    </div>
  </ion-content>
</ion-view>
