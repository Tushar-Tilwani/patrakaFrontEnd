<ion-view view-title="Movies">

  <ion-header-bar class="bar-subheader item-input-inset">
    <label class="item-input-wrapper">
      <i class="icon ion-ios7-search placeholder-icon"></i>
      <input type="search" placeholder="Add Movies"
             ng-change="searchMoviesByPattern(addMovieTypeAhead.searchStr)"
             ng-model="addMovieTypeAhead.searchStr">
    </label>
    <button ng-click="clear()" class="button button-dark">
      Clear
    </button>
  </ion-header-bar>

  <ion-content ng-show="addMovieTypeAhead.results.length > 0" class="search-results" scroll="false">
    <div class="list ">
      <a ng-repeat="s in addMovieTypeAhead.results" ng-click="searchItemClick(s)" class="item">{{s.fields.title}}</a>
    </div>
  </ion-content>

  <ion-content class="padding">
    <div class="list">
      <div class="item item-divider">
        Current Movies
      </div>
      <a ng-repeat="s in moviesWithShows" class="item item-thumbnail-left" ng-click="updateShow(s.movie)">
        <img src="{{s.movie.fields.image_url}}">
        <h2>{{s.movie.fields.title}}</h2>
        <p>{{_.join(s.movie.fields.directors)}}</p>
        <p>Shows: {{_.join(s.showTimes,', ')}} | Ends: {{s.end_date}}</p>
      </a>
    </div>
  </ion-content>
</ion-view>
